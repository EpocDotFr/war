<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.1.7/zepto.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>

<div>
    <label for="title">Title</label>
    <input type="text" name="title" id="title" value="{{ the_news.title if the_news }}">
</div>

<div>
    <label for="content">Content</label>
    <textarea name="content" id="content">{{ the_news.content if the_news }}</textarea>
</div>

{% if the_news %}
<div>
    <label for="content">Date</label>
    <div>{{ the_news.date.format('D, MMMM YYYY HH:mm') if the_news.date else 'None' }} {{ '('+the_news.date.humanize()+')' if the_news.date }}</div>
</div>

<div>
    <label for="content">Slug</label>
    <div><code>{{ the_news.slug if the_news.slug else 'None' }}</code></div>
</div>
{% endif %}

<p>
    <button type="submit">Save</button>
    <a class="btn" href="{{ url_for('manage') }}">Cancel</a>
</p>

<script>
Zepto(function () {
    var simplemde = new SimpleMDE({
        element: $('textarea#content').get(0),
        autosave: {
            enabled: true
        },
        indentWithTabs: false,
        tabSize: 4,
        forceSync: true
    });
});
</script>